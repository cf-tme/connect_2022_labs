<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1. Cloudflare Pages &mdash; cf-connect-2022  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. Cloudflare Images" href="lab2.html" />
    <link rel="prev" title="2. Setup Git" href="git.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> cf-connect-2022
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Pre-Requisites:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="github.html">1. Setup Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">2. Setup Git</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lab Exercises:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Cloudflare Pages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#testing">1.1. testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lab2.html">2. Cloudflare Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab3.html">3. Cloudflare Workers</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab4.html">4. Cloudflare Zero Trust Gateway</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cf-connect-2022</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">1. </span>Cloudflare Pages</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/lab1.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cloudflare-pages">
<h1><span class="section-number">1. </span>Cloudflare Pages<a class="headerlink" href="#cloudflare-pages" title="Permalink to this headline"></a></h1>
<section id="testing">
<h2><span class="section-number">1.1. </span>testing<a class="headerlink" href="#testing" title="Permalink to this headline"></a></h2>
<p>Some <strong>text</strong>!</p>
<div class="warning admonition">
<p class="admonition-title">Here’s my title</p>
<p>Here’s my admonition content</p>
</div>
<p>step 1 connect GH to pages</p>
<p>step 2 fork &amp; clone repo</p>
<p>gh repo fork cloudflare/images.pages.dev</p>
<p>y (would you like to clone the fork)</p>
<p>cd images.pages.dev</p>
<p>ls</p>
<p>open up account and add to pages</p>
<p>begin setup</p>
<p>branch is main</p>
<p>framework is create react app</p>
<p>all others default</p>
<p>press save and deploy</p>
<p>watch build progress</p>
<p>once done check the URL</p>
<p>See how new builds are done</p>
<p>create a new function - pages functions</p>
<p>time.js example</p>
<p>git add -A to add all files</p>
<p>git commit -m “added new time function”</p>
<p>git push</p>
<p>now in the dashboard should see a new deployment in progress! good work</p>
<p>edit the images ts file</p>
<p>and then go to settings and bind kv namesapce
get started
and create namespace</p>
<p>call it IMAGES</p>
<p>back to pages and add env for functions</p>
<p>IMAGE = IMAGES</p>
<p>modify the app tsx to include routes to home and setup and admin</p>
<p>run the setup</p>
<p>then do the setup api endpoint to check to see if its working</p>
<p>then do the images listing to see if images are there *should be empty as we have none *</p>
<p>great!</p>
<p>remove the middleware file because we dont want to deny login - explain what this can be used for if you need!</p>
<p>npm run build
npx wrangler pages dev ./build –kv KV_NAMESPACE</p>
<p>lab 2 - upload images and now use these for the dashboard vs the original images</p>
<p>&lt;for returning clone the premade repo and run the setup (step2 repo)&gt;</p>
<p>edit the imagegrid.tsx file to remove the static images so we can use the images that we upload</p>
<p>upload multiple images via the uploader built in</p>
<p>check the metadata written to KV</p>
<p>see the page update</p>
<p>Lab 3 - write the workers js as a function for AB</p>
<p>&lt;for returning clone the premade repo and run the setup (step2 repo), there will already be images in the const data file so they dont need to do any setup either since there is no upload - this will be a clean state page &gt;</p>
<p>clone the repo and write the new worker js file</p>
<p>check the page on refresh</p>
<p>check the google analytics logs</p>
<p>Lab 4
setup pihole as container
setup cloudflared as upstream proxy</p>
<p>configure policy</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="git.html" class="btn btn-neutral float-left" title="2. Setup Git" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lab2.html" class="btn btn-neutral float-right" title="2. Cloudflare Images" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Cloudflare.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>